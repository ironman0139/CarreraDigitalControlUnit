language: python

install:
- pip install -U platformio
- platformio lib --global install mbino

env:
- PLATFORMIO_CI_SRC=examples/CommandSniffer
- PLATFORMIO_CI_SRC=examples/DataLogger
- PLATFORMIO_CI_SRC=examples/LapCounter
- PLATFORMIO_CI_SRC=examples/StartLight

script:
- platformio ci --lib="." --board=uno
- platformio ci --lib="src" --board=nucleo_f446re -O framework=mbed -O platform_packages=framework-mbed@~5
